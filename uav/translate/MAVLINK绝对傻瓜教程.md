__MavLink__æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿå®ƒæ˜¯ä¸€ç§é€šä¿¡åè®®ã€‚å½“çœ‹åˆ°è¿™ä¸ªæ¦‚å¿µåï¼Œå¤§ä¼™å°±å¼€å§‹ç•æƒ§å®ƒã€‚è¿™ä¸ªæ•™ç¨‹å°†è¿«ä½¿ä½ æ·±åˆ»åœ°é¢†æ‚Ÿå®ƒï¼Œå¹¶é€šä¿—æ˜“æ‡‚åœ°é˜è¿°å®ƒç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæœ€é‡è¦çš„æ˜¯å®ƒåˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼ï¼æˆ‘å°†è¯•ç€è§£é‡ŠMission Plannerå¦‚ä½•ä¸APM/ PX4é€šä¿¡ï¼Œåä¹‹äº¦ç„¶ã€‚è¿™å°†æœ‰åŠ©äºä½ çš„æ‰©å±•ï¼Œå¹¶æ¿€å‘ä½ æ½œåœ¨çš„å¤©æ‰ç¨‹åºå‘˜å¤©èµ‹ï¼Œå¦‚æœä½ è¿˜æ²¡æ¿€å‘çš„è¯ï¼ï¼

PS. Mission Planneræ˜¯ä¸€æ¬¾å¼€æºçš„æ— äººæœºåœ°é¢ç«™è½¯ä»¶ï¼ŒAPM/ PX4åˆ™æ˜¯ä¸€ç§å¼€æºé£æ§

æœ¬æ•™ç¨‹å‡å®šï¼š

1. ä½ æ˜¯ä¸ªå°ç™½â˜¹æˆ‘ä¹Ÿæ›¾ç»æ˜¯ï¼Œä½†ç°åœ¨ä¸å†æ˜¯äº†!
2. ä½ è‡³å°‘åœ¨Cè¯­è¨€æ–¹é¢å…·å¤‡ä¸€å®šçš„ç¼–ç¨‹æŠ€èƒ½ï¼ˆä¾‹å¦‚ï¼Œåœ¨C/C++/C#/Javaä¸­ç¼–å†™è¿‡ç®€å•çš„switch cases)
   ï¼‰ã€‚å¦‚æœä½ å·²ç»æ˜¯ä¸“ä¸šçº§ï¼Œé‚£ä¹ˆreturn 0;
3. ä½ å¾ˆä¸¥è‚ƒåœ°æ‰“ç®—å»å­¦ä¹ çŸ¥è¯†ï¼Œå› ä¸ºä½ å°†ä¸ºæ­¤å¤±å»ä¸€äº›ç¡çœ ï¼

ä½†ä¸ç®¡æ€æ ·ï¼Œè¯·ä¿æŒå­¦ä¹ çš„æ„æ„¿ï¼Œæˆ‘è¡·å¿ƒå¸Œæœ›ä½ æ°¸è¿œä¸ä¼šå¿˜è®°å®ƒğŸ™‚æˆ‘å¯ä»¥å¼€å§‹äº†å—ï¼Ÿ

## æˆ‘ä¸ºä½ è€Œæ¥ï¼ŒMavLink

Mavlinkæ¶ˆæ¯åŸºæœ¬ä¸Šæ˜¯ç”±Mission Plannerï¼ˆMPï¼‰ç¼–ç ï¼Œå¹¶é€šè¿‡USBä¸²è¡Œæˆ–é¥æµ‹å‘é€åˆ°APMçš„ä¸€ä¸ªå­—èŠ‚æµï¼ˆä¸¤è€…ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚å¦‚æœåŒæ—¶æ’å…¥ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©USBï¼Œè€Œå¿½ç•¥é¥æµ‹ï¼‰ã€‚è¿™é‡Œçš„ç¼–ç å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œåªæ˜¯æŠŠæ•°æ®åŒ…æ”¾å…¥ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­ï¼Œç„¶åé€šè¿‡ä¿¡é“ä»¥å­—èŠ‚çš„å½¢å¼å‘é€å‡ºå»ï¼ŒåŒæ—¶åŠ ä¸Šä¸€äº›é”™è¯¯çº æ­£ã€‚

## MAVLINKæ¶ˆæ¯çš„ç»“æ„ï¼š

æ¯ä¸ªMavLinkæ•°æ®åŒ…çš„é•¿åº¦ä¸º17å­—èŠ‚ï¼Œç»“æ„å¦‚ä¸‹ï¼š

```
æ¶ˆæ¯é•¿åº¦ = 17 (6 bytes header + 9 bytes payload + 2 bytes checksum)
```

```
6 bytes header
0. message header, æ°¸è¿œä¸º 0xFE
1. message length (9)
2. sequence number -- åœ¨ 255 å’Œ 0 ä¹‹é—´è½®è½¬(0x4eï¼Œå‰ä¸€ä¸ªæ˜¯ 0x4d)
3. System ID - ä»€ä¹ˆç³»ç»Ÿåœ¨å‘é€è¿™ä¸ªæ¶ˆæ¯ (1)
4. Component ID- ç³»ç»Ÿçš„å“ªä¸ªç»„ä»¶æ­£åœ¨å‘é€æ¶ˆæ¯ (1)
5. Message ID (e.g. 0 = heartbeat and many more! Donâ€™t be shy, you can add too..)
Variable Sized Payload (specified in octet 1, range 0..255)
** Payload (the actual data we are interested in)
Checksum: ç”¨äºé”™è¯¯æ£€æµ‹
```








6 bytes header

0. message header, always 0xFE
1. message length (9)
2. sequence number -- rolls around from 255 to 0 (0x4e, previous was 0x4d)
3. System ID - what system is sending this message (1)
4. Component ID- what component of the system is sending the message (1)
5. Message ID (e.g. 0 = heartbeat and many more! Donâ€™t be shy, you can add too..)
   Variable Sized Payload (specified in octet 1, range 0..255)
   ** Payload (the actual data we are interested in)
   Checksum: For error detection. '



